# Проект разработки витрины для маркетплейса

## Задачи:

-   Построить с помощью SQL витрину клиентских данных
    product_user_features, используя информацию о заказах пользователей.
    Витрина должна содержать информацию о заказах каждого клиента с
    учётом его региона.
-   Решить четыре ad hoc задачи на исследование данных в витрине и
    сформулировать по каждой из них выводы, которые следуют из
    полученных результатов.

## Описание данных:

Таблица orders --- информация о заказах. Содержит поля:

-   order_id --- идентификатор заказа.
-   buyer_id --- идентификатор покупателя, то есть номер пользователя
    при оформлении конкретного заказа.
-   order_status --- статус заказа (Доставлен, В процессе и так далее).
-   order_purchase_ts --- время покупки.
-   order_approved_at --- время подтверждения заказа.
-   order_delivered_carrier_ts --- время передачи заказа в службу
    доставки.
-   order_delivered_ts --- время доставки заказа покупателю.
-   order_estimated_delivery_dt --- ожидаемая дата доставки заказа.

Таблица order_items --- информация о товарах, которые входят в заказ.
Содержит поля:

-   order_id --- идентификатор заказа.
-   order_item_id --- позиция товара в заказе (первая, вторая и так
    далее).
-   product_id --- идентификатор товара.
-   seller_id --- идентификатор продавца, который продаёт этот товар.
-   shipping_limit_date --- дата, до которой товар должен быть
    доставлен.
-   price --- цена товара.
-   delivery_cost --- стоимость доставки товара.

Таблица order_payments --- информация о способах оплаты заказов.Содержит
поля:

-   order_id --- идентификатор заказа.
-   payment_sequential --- порядковый номер платежа.
-   payment_type --- тип оплаты в платеже (например, банковская карта,
    промокод, оплата по счёту и так далее).
-   payment_installments --- количество рассрочек платежа (1 --- платёж
    совершён в полном объёме).

Таблица order_reviews --- отзывы о заказах, оставленные покупателями.
Содержит поля:

-   review_id --- идентификатор отзыва.
-   order_id --- идентификатор заказа, к которому относится отзыв.
-   review_score --- оценка заказа, от 1 до 5.
-   review_creation_date --- дата создания отзыва.
-   review_answer_timestamp --- время ответа продавца на отзыв.

Таблица users --- информация о покупателях.Содержит поля:

-   buyer_id --- идентификатор покупателя, то есть номер пользователя
    при оформлении конкретного заказа.
-   user_id --- уникальный идентификатор пользователя.
-   region --- регион совершения покупки.
-   zip_code_prefix --- индекс региона совершения покупки.
:::


## Зависимости данных вы можете увидеть на ER-диаграмме:

![](https://pictures.s3.yandex.net/resources/PPROD-15191_scheme_1752834421.png)


Весь код, результаты и вычисления лежат в [notebook.ipynb](https://github.com/letme2112/sql_vitrina/blob/main/notebook.ipynb)
